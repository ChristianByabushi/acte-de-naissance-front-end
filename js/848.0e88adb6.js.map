{"version":3,"file":"js/848.0e88adb6.js","mappings":"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","sources":["webpack://project-vue/./src/views/invoices/invoice.vue","webpack://project-vue/./src/views/invoices/resultInvoice.vue","webpack://project-vue/src/views/invoices/resultInvoice.vue","webpack://project-vue/./src/views/invoices/resultInvoice.vue?551a","webpack://project-vue/./src/views/invoices/resultInvoice.vue?4b25","webpack://project-vue/src/views/invoices/invoice.vue","webpack://project-vue/./src/views/invoices/invoice.vue?1f7b","webpack://project-vue/./src/views/invoices/invoice.vue?deb7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-subheader',{staticClass:\"d-flex justify-space-between align-center\"},[_c('h3',[_vm._v(\"Facture et ventes\")])]),_c('v-alert',{attrs:{\"dense\":\"\",\"type\":\"info\",\"color\":\"indigo\"}},[_vm._v(\" Cette partie du HumanApp porte sur les fonctionnalités liées à la gestion des factures et vente \")]),_c('v-card',[_c('v-card-title',{staticClass:\"d-flex-inline\"},[_c('v-row',[_c('h5',[_vm._v(\"Société, Human Atm, Facturation\")])])],1)],1),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\",\"sm\":\"3\"}},[_c('v-select',{attrs:{\"items\":_vm.stock_merchandises,\"item-text\":\"title\",\"item-value\":\"id_stock\",\"label\":\"Item\"},on:{\"change\":function($event){_vm.verifyAmount();_vm.seek_amount_and_price_stock()}},model:{value:(_vm.id_stock),callback:function ($$v) {_vm.id_stock=$$v},expression:\"id_stock\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"number\",\"step\":\"any\",\"label\":\"Pu\",\"required\":\"\"},model:{value:(_vm.pu_sale),callback:function ($$v) {_vm.pu_sale=$$v},expression:\"pu_sale\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"type\":\"number\",\"step\":\"any\",\"label\":\"Qté\",\"required\":\"\"},model:{value:(_vm.amount_sale),callback:function ($$v) {_vm.amount_sale=$$v},expression:\"amount_sale\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\",\"sm\":\"4\"}},[_c('v-alert',{attrs:{\"color\":\"blue-grey\",\"dark\":\"\"}},[_vm._v(\" Prix total: \"+_vm._s(Number(_vm.amount_sale*_vm.pu_sale).toFixed(4))+\" \")])],1),(_vm.pu_by)?_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-alert',{attrs:{\"color\":\"dense\",\"type\":\"info\"}},[_vm._v(\"Le pua de ce bien était de \"+_vm._s(_vm.pu_by)+\" $ et il restait \"+_vm._s(_vm.amount_by)+\" unités \")])],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-btn',{staticClass:\"mb-1\",on:{\"click\":function($event){_vm.verifyAmount(); _vm.submitNewItemInvoice()}}},[(_vm.indexEdit!='add')?_c('span',[_vm._v(\"Editer\")]):_c('span',[_vm._v(\"Ajouter\")])])],1)],1),_c('v-form',{staticClass:\"mb-10\",attrs:{\"method\":\"post\"}},[_c('div',[_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" IdStock \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Marchandise \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Pu \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Qté \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Prix Total \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Actions \")])])]),_c('tbody',_vm._l((_vm.listOfitemInvoices),function(item,index){return _c('tr',{key:item.id_stock},[_c('td',[_vm._v(_vm._s(item.id_stock))]),_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.pu_sale))]),_c('td',[_vm._v(_vm._s(item.amount_sale))]),_c('td',[_vm._v(_vm._s(Number(item.pu_sale*item.amount_sale).toFixed(3)))]),_c('td',[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"purple\"},on:{\"click\":function($event){return _vm.editItemInvoice(index)}}},[_vm._v(\"mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.deleteItemInvoice(index)}}},[_vm._v(\" mdi-delete \")])],1)])}),0)])],1),_c('v-row',{staticClass:\"mt-4\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":\"Client\",\"required\":\"\"},model:{value:(_vm.client),callback:function ($$v) {_vm.client=$$v},expression:\"client\"}}),(_vm.getNumberInvoices()>0)?_c('div',[_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"Date de Vente\",\"value\":\"created_at\",\"required\":\"\"},model:{value:(_vm.created_at),callback:function ($$v) {_vm.created_at=$$v},expression:\"created_at\"}},[_vm._v(\" \"+_vm._s(_vm.created_at)+\" \")]),_c('v-text-field',{attrs:{\"type\":\"number\",\"step\":\"any\",\"label\":\"Reduction sur facture\"},model:{value:(_vm.decrease),callback:function ($$v) {_vm.decrease=$$v},expression:\"decrease\"}}),(_vm.listOfitemInvoices)?_c('v-alert',{attrs:{\"color\":\"indigo\",\"dark\":\"\"}},[_vm._v(\" Prix total net à payer : \"+_vm._s(_vm.getTotalPriceAmount())+\" \")]):_vm._e()],1):_vm._e()],1)],1),(_vm.printInvoice)?_c('v-btn',{staticClass:\"d-flex mt-10\",on:{\"click\":function($event){$event.stopPropagation();return _vm.exportToPDF()}}},[_vm._v(\" Print \")]):_vm._e(),_c('v-btn',{staticClass:\"d-flex mt-10\",on:{\"click\":function($event){$event.stopPropagation();return _vm.create_new_line_invoice();}}},[_vm._v(\" Enregistrer \")])],1),_c('resultInvoice',{key:_vm.resultInvoiceKey})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-subheader',{staticClass:\"d-flex justify-space-between align-center\"},[_c('h3',[_vm._v(\"Résultats\")])]),_c('v-card',[_c('v-card-title',{staticClass:\"d-flex-inline\"},[_c('v-row',[_c('h6',[_vm._v(\"All\")])])],1),_c('v-card-text',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.header_lineinvoices,\"items\":_vm.listInlines,\"items-per-page\":5},scopedSlots:_vm._u([{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"purple\"},on:{\"click\":function($event){return _vm.printInvoiceInline(item)}}},[_vm._v(\" mdi-printer \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteInvoiceInline(item)}}},[_vm._v(\" mdi-delete \")])]}}])})],1)],1),(_vm.printLinePermit)?_c('v-card',{staticClass:\"mt-10\"},[_c('div',{attrs:{\"id\":\"element-to-convert\"}},[_c('v-card-title',[_c('v-row',[_c('v-col',[_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('h4',[_vm._v(\"Sté HumanATM\")]),_c('h4',[_vm._v(\"Client : \"+_vm._s(_vm.inlineInfo.client))]),_c('h6',[_vm._v(\"Date : \"+_vm._s(_vm.inlineInfo.created_at))])])])],1)],1),_c('v-card-text',[_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\" Title \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" P.U \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Qté \")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\" Pt \")])])]),_c('tbody',_vm._l((_vm.listInvoicesPrint),function(item,index){return _c('tr',[_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_vm._v(_vm._s(item.pu_sale))]),_c('td',[_vm._v(_vm._s(item.amount_sale))]),_c('td',[_vm._v(_vm._s(Number(item.pt).toFixed(3)))])])}),0)]),_c('div',{staticStyle:{\"display\":\"inline\",\"text-align\":\"right\",\"margin-right\":\"10px\"}},[_c('h6',{staticClass:\"mt-10 font-weight-black\"},[_vm._v(\"Total Brut: \"+_vm._s(Number(_vm.computeTotalPriceTopay()).toFixed(3))+\"$ \")]),_c('h6',{staticClass:\"font-weight-black\"},[_vm._v(\"Réduction : \"+_vm._s(_vm.inlineInfo.decrease)+\"$\")]),_c('h6',{staticClass:\"font-weight-black\"},[_vm._v(\"Prix total à payer : \"+_vm._s(Number(_vm.computeTotalPriceTopay() - _vm.inlineInfo.decrease).toFixed(3))+\"$ \")])])],1)],1),_c('v-btn',{staticClass:\"mt-10\",attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.printMethode()}}},[_vm._v(\"imprimer\")]),_c('v-btn',{staticClass:\"ml-10 mt-10\",attrs:{\"color\":\"info\"},on:{\"click\":function($event){_vm.printLinePermit = !_vm.printLinePermit}}},[_vm._v(\"Annuler\")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Résultats</h3>\r\n\t\t</v-subheader>\r\n\r\n\t\t<v-card>\r\n\t\t\t<v-card-title class=\"d-flex-inline\">\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<h6>All</h6>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-card-text>\r\n\t\t\t\t<v-data-table :headers=\"header_lineinvoices\" :items=\"listInlines\" :items-per-page=\"5\"\r\n\t\t\t\t\tclass=\"elevation-1\">\r\n\t\t\t\t\t<template v-slot:item.actions=\"{ item }\" class=\"d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<v-icon small color=\"purple\" @click=\"printInvoiceInline(item)\">\r\n\t\t\t\t\t\t\tmdi-printer\r\n\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t<v-icon small class=\"mr-2\" @click.stop=\"deleteInvoiceInline(item)\" color=\"red\">\r\n\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</v-data-table>\r\n\t\t\t</v-card-text>\r\n\t\t</v-card>\r\n\t\t<v-card v-if=\"printLinePermit\" class=\"mt-10\">\r\n\t\t\t<div id=\"element-to-convert\">\r\n\t\t\t\t<v-card-title>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t<div style=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<h4>Sté HumanATM</h4>\r\n\t\t\t\t\t\t\t\t<h4>Client : {{inlineInfo.client}}</h4>\r\n\t\t\t\t\t\t\t\t<h6>Date : {{inlineInfo.created_at}}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-card-title>\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<v-simple-table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tTitle\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tP.U\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tQté\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tPt\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr v-for=\"(item, index) in listInvoicesPrint\">\r\n\t\t\t\t\t\t\t\t<td>{{ item.title }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ item.pu_sale }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ item.amount_sale }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ Number(item.pt).toFixed(3) }}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</v-simple-table>\r\n\t\t\t\t\t<div style=\"display: inline; text-align: right; margin-right:10px ; \">\r\n\t\t\t\t\t\t<h6 class=\"mt-10 font-weight-black\">Total Brut: {{Number(computeTotalPriceTopay()).toFixed(3)}}$\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t<h6 class=\"font-weight-black\">Réduction : {{inlineInfo.decrease}}$</h6>\r\n\t\t\t\t\t\t<h6 class=\"font-weight-black\">Prix total à payer : {{Number(computeTotalPriceTopay() -\r\n\t\t\t\t\t\tinlineInfo.decrease).toFixed(3)}}$\r\n\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</div>\r\n\t\t\t<v-btn color=\"error\" class=\"mt-10\" @click=\"printMethode()\">imprimer</v-btn>\r\n\t\t\t<v-btn color=\"info\" class=\"ml-10 mt-10\" @click=\"printLinePermit = !printLinePermit\">Annuler</v-btn>\r\n\t\t</v-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport html2pdf from \"html2pdf.js\";\r\n\r\nexport default {\r\n\tname: \"resultInvoice\",\r\n\tcomponents: {\r\n\r\n\t},\r\n\tdata: () => ({\r\n\t\tlistInvoices: [],\r\n\t\turlImage: \"../assets/atmlogo.jpg\",\r\n\t\tlistInlines: [],\r\n\t\tprintLinePermit: false,\r\n\t\tprintinline: [],\r\n\t\tlistInvoicesPrint: [],\r\n\t\tinlineInfo: [],\r\n\t\theader_lineinvoices: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'idOp',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: true,\r\n\t\t\t\tvalue: 'id_line',\r\n\t\t\t},\r\n\t\t\t{ text: 'Client', value: 'client' },\r\n\t\t\t{ text: 'Date', value: 'created_at' },\r\n\t\t\t{ text: 'Prix Total ', value: 'totalprice' },\r\n\t\t\t{ text: 'Reduction Accordée', value: 'decrease' },\r\n\t\t\t{ text: 'Net à payer', value: 'net_total_price' },\r\n\t\t\t{ text: 'actions', value: 'actions' },\r\n\t\t],\r\n\r\n\t}),\r\n\tmethods: {\r\n\t\tcomputeTotalPriceTopay() {\r\n\t\t\tvar r = 0;\r\n\t\t\tthis.listInvoicesPrint.forEach(element => {\r\n\t\t\t\tr += element.pt\r\n\t\t\t});\r\n\t\t\treturn r;\r\n\t\t},\r\n\t\tasync printInvoiceInline(idlineinvoice) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('lineInvoice/getInvoiceInfo/' + idlineinvoice.id_line)\r\n\t\t\t\tthis.listInvoicesPrint = response.data\r\n\t\t\t\tthis.printinlineinfo(idlineinvoice.id_line)\r\n\t\t\t\tthis.printLinePermit = !this.printLinePermit\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync printinlineinfo(id_line) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('lineInvoice/getInlineInfo/' + id_line)\r\n\t\t\t\tthis.inlineInfo = response.data\r\n\t\t\t\tconsole.log(this.inlineInfo)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync printMethode() {\r\n\r\n\t\t\thtml2pdf(document.getElementById(\"element-to-convert\"), {\r\n\t\t\t\tmargin: 5,\r\n\t\t\t\tfilename: \"facture -\" + this.inlineInfo.client + \"-\" + this.inlineInfo.created_at,\r\n\t\t\t\tjsPDF: {\r\n\t\t\t\t\tformat: 'a6',\r\n\t\t\t\t\torientation: 'portrait'\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync deleteInvoiceInline(idlineinvoice) {\r\n\t\t\tif (confirm(\"Voulez-vous supprimer cette facture de l'operation \" + idlineinvoice.id_line + \" ?\")) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await axios.post('lineInvoice/deleteInvoice/' + idlineinvoice.id_line)\r\n\t\t\t\t\tthis.listInvoices = response.data\r\n\t\t\t\t\tthis.get_listInlines()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tasync get_listInvoices() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('invoice/')\r\n\t\t\t\tthis.listInvoices = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync get_listInlines() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('lineInvoice/')\r\n\t\t\t\tthis.listInlines = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.get_listInvoices()\r\n\t\tthis.get_listInlines()\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n#element-to-convert {\r\n\tbackground-image: url('@/assets/atmlogo.jpg');\r\n\tbackground-size: 300px 300px;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resultInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resultInvoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resultInvoice.vue?vue&type=template&id=2bf1ea75&\"\nimport script from \"./resultInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./resultInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./resultInvoice.vue?vue&type=style&index=0&id=2bf1ea75&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Facture et ventes</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-alert dense type=\"info\" color=\"indigo\">\r\n\t\t\tCette partie du HumanApp porte sur les fonctionnalités liées à la gestion des factures et vente\r\n\t\t</v-alert>\r\n\t\t<v-card>\r\n\t\t\t<v-card-title class=\"d-flex-inline\">\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<h5>Société, Human Atm, Facturation</h5>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-title>\r\n\t\t</v-card>\r\n\t\t<v-container>\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col cols=\"5\" sm=\"3\">\r\n\t\t\t\t\t<v-select :items=\"stock_merchandises\" @change=\"verifyAmount();seek_amount_and_price_stock()\"\r\n\t\t\t\t\t\titem-text=\"title\" v-model=\"id_stock\" item-value=\"id_stock\" label=\"Item\">\r\n\t\t\t\t\t</v-select>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-text-field v-model=\"pu_sale\" type=\"number\" step=\"any\" label=\"Pu\" required>\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-text-field v-model=\"amount_sale\" type=\"number\" step=\"any\" label=\"Qté\" required>\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"2\" sm=\"4\">\r\n\t\t\t\t\t<v-alert color=\"blue-grey\" dark> Prix total: {{Number(amount_sale*pu_sale).toFixed(4)}}\r\n\t\t\t\t\t</v-alert>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"12\" sm=\"6\" class=\"d-flex\" v-if=\"pu_by\">\r\n\t\t\t\t\t<v-alert color=\"dense\" type=\"info\">Le pua de ce bien était de {{pu_by}} $ et il restait\r\n\t\t\t\t\t\t{{amount_by}} unités </v-alert>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"12\" sm=\"6\">\r\n\t\t\t\t\t<v-btn @click=\"verifyAmount(); submitNewItemInvoice()\" class=\"mb-1\">\r\n\t\t\t\t\t\t<span v-if=\"indexEdit!='add'\">Editer</span>\r\n\t\t\t\t\t\t<span v-else>Ajouter</span>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\r\n\t\t\t<v-form method=\"post\" class=\"mb-10\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<v-simple-table>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tIdStock\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tMarchandise\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tPu\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tQté\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tPrix Total\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\t\tActions\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\r\n\t\t\t\t\t\t\t<tr v-for=\"(item, index) in listOfitemInvoices\" :key=\"item.id_stock\">\r\n\t\t\t\t\t\t\t\t<td>{{ item.id_stock }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ item.title }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ item.pu_sale }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ item.amount_sale }}</td>\r\n\t\t\t\t\t\t\t\t<td>{{ Number(item.pu_sale*item.amount_sale).toFixed(3) }}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<v-icon small color=\"purple\" @click=\"editItemInvoice(index)\">mdi-pencil\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-icon small color=\"red\" @click=\"deleteItemInvoice(index)\">\r\n\t\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</v-simple-table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<v-row class=\"mt-4\">\r\n\t\t\t\t\t<v-col cols=\"12\" sm=\"6\">\r\n\t\t\t\t\t\t<v-text-field v-model=\"client\" type=\"text\" label=\"Client\" required>\r\n\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t<div v-if=\"getNumberInvoices()>0\">\r\n\t\t\t\t\t\t\t<v-text-field v-model=\"created_at\" type=\"date\" label=\"Date de Vente\" value=\"created_at\"\r\n\t\t\t\t\t\t\t\trequired>\r\n\t\t\t\t\t\t\t\t{{created_at}}\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t<v-text-field v-model=\"decrease\" type=\"number\" step=\"any\" label=\"Reduction sur facture\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t<v-alert color=\"indigo\" dark v-if=\"listOfitemInvoices\">\r\n\t\t\t\t\t\t\t\tPrix total net à payer : {{getTotalPriceAmount()}}\r\n\t\t\t\t\t\t\t</v-alert>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-btn v-if=\"printInvoice\" @click.stop=\"exportToPDF()\" class=\"d-flex mt-10\">\r\n\t\t\t\t\tPrint\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn class=\"d-flex mt-10\" @click.stop=\"create_new_line_invoice();\">\r\n\t\t\t\t\tEnregistrer\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-form>\r\n\t\t\t<resultInvoice :key=\"resultInvoiceKey\"></resultInvoice>\r\n\r\n\t\t</v-container>\r\n\t</div>\r\n</template> \r\n<script>\r\nimport axios from 'axios'\r\nimport html2pdf from \"html2pdf.js\";\r\nimport resultInvoice from \"@/views/invoices/resultInvoice.vue\"\r\nexport default {\r\n\tname: \"Invoice\",\r\n\tcomponents: {\r\n\t\tresultInvoice\r\n\t},\r\n\tdata: () => ({\r\n\t\tindexEdit: 'add',\r\n\t\tresultInvoiceKey: false,\r\n\t\tprintInvoice: null,\r\n\t\teditOradd: null,\r\n\t\tcreated_at: new Date().toJSON().slice(0, 10).replace(/-/g, '/'),\r\n\t\tclient: '',\r\n\t\ttitle: '',\r\n\t\tdecrease: '',\r\n\t\tpu_sale: '',\r\n\t\tamount_sale: '',\r\n\t\tid_stock: '',\r\n\t\tstock_merchandises: [],\r\n\t\tpu_by: '',\r\n\t\tamount_by: '',\r\n\t\tlistOfitemInvoices: [],\r\n\t\tlastIdLine: '',\r\n\t\tinvoicesRequests: [],\r\n\t\tdesserts: [\r\n\t\t\t{\r\n\t\t\t\tname: 'Frozen Yogurt',\r\n\t\t\t\tcalories: 159,\r\n\t\t\t}\r\n\t\t],\r\n\t}),\r\n\r\n\tmethods: {\r\n\t\tgetNumberInvoices() {\r\n\t\t\treturn this.listOfitemInvoices.length\r\n\t\t},\r\n\r\n\t\tgetTotalPriceAmount() {\r\n\t\t\tlet totalNetPrice = 0\r\n\t\t\tthis.listOfitemInvoices.forEach(element => {\r\n\t\t\t\ttotalNetPrice += element.amount_sale * element.pu_sale\r\n\t\t\t});\r\n\t\t\ttotalNetPrice = Number(totalNetPrice - this.decrease).toFixed(3)\r\n\t\t\treturn totalNetPrice\r\n\t\t},\r\n\r\n\t\tsubmitNewItemInvoice() {\r\n\t\t\tif (this.id_stock == '' || this.pu_sale == '' || this.amount_sale == '') {\r\n\t\t\t\talert('Veuillez completer tous les éléments du formulaire')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t//verify if the amount convey\r\n\t\t\tif (Math.abs(this.amount_by) < Math.abs(this.amount_sale)) {\r\n\t\t\t\talert('Quantité en stock non suffisante pour effectuer cette opération !')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t//case of edit now\r\n\t\t\tif (this.indexEdit != 'add') {\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].pu_sale = Math.abs(this.pu_sale);\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].amount_sale = Math.abs(this.amount_sale);\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].id_stock = Math.abs(this.id_stock);\r\n\t\t\t}\r\n\r\n\t\t\t//case of add \r\n\t\t\telse {\r\n\r\n\t\t\t\t//case of item exesting already on the invoice\r\n\t\t\t\tvar verifyIfItemExistAlready = false\r\n\t\t\t\tthis.listOfitemInvoices.forEach(element => {\r\n\t\t\t\t\tif (element.id_stock == this.id_stock) {\r\n\t\t\t\t\t\tverifyIfItemExistAlready = true\r\n\t\t\t\t\t\talert(\"Au lieu d'insérer le meme item veuillez éditer celui qui est déjà présent sur la facture\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (verifyIfItemExistAlready == true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//case of all works funny\r\n\t\t\t\tthis.listOfitemInvoices.push({\r\n\t\t\t\t\tid_stock: this.id_stock,\r\n\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\tpu_sale: Math.abs(this.pu_sale),\r\n\t\t\t\t\tamount_sale: Math.abs(this.amount_sale),\r\n\t\t\t\t})\r\n\t\t\t\t//to make difference with edit task\r\n\t\t\t}\r\n\t\t\t//initiation\r\n\t\t\tthis.title = ''\r\n\t\t\tthis.pu_sale = ''\r\n\t\t\tthis.amount_sale = ''\r\n\t\t\tthis.id_stock = ''\r\n\t\t\tthis.pu_by = ''\r\n\t\t\tthis.indexEdit = 'add'\r\n\t\t},\r\n\t\teditItemInvoice(index) {\r\n\t\t\tthis.title = this.listOfitemInvoices[index].title;\r\n\t\t\tthis.pu_sale = this.listOfitemInvoices[index].pu_sale;\r\n\t\t\tthis.amount_sale = this.listOfitemInvoices[index].amount_sale;\r\n\t\t\tthis.id_stock = this.listOfitemInvoices[index].id_stock;\r\n\t\t\tthis.indexEdit = index\r\n\t\t},\r\n\t\tdeleteItemInvoice(index) {\r\n\t\t\tthis.listOfitemInvoices.splice(index, 1);\r\n\t\t\t// if the item deleted is what we re editing we reinitiate the form!\r\n\t\t\tif (this.indexEdit == index) {\r\n\t\t\t\tthis.title = ''\r\n\t\t\t\tthis.pu_sale = ''\r\n\t\t\t\tthis.amount_sale = ''\r\n\t\t\t\tthis.id_stock = ''\r\n\t\t\t\tthis.indexEdit = 'add'\r\n\t\t\t\tthis.pu_by = ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tseek_amount_and_price_stock() {\r\n\t\t\tthis.stock_merchandises.forEach(element => {\r\n\t\t\t\tif (element.id_stock == this.id_stock) {\r\n\t\t\t\t\tthis.pu_by = element.pu_by\r\n\t\t\t\t\tthis.title = element.title\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('stock_merchandise/')\r\n\t\t\t\tthis.stock_merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync verifyAmount() {\r\n\t\t\tif (this.id_stock != '') {\r\n\t\t\t\tconst response = await axios.post('invoice/verifyAmount/' + this.id_stock)\r\n\t\t\t\tthis.amount_by = response.data\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync create_new_line_invoice() {\r\n\t\t\tif (this.client != '' && this.getNumberInvoices() > 0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst form = new FormData()\r\n\t\t\t\t\tform.append('client', this.client)\r\n\t\t\t\t\tform.append('decrease', this.decrease)\r\n\t\t\t\t\tform.append('created_at', this.created_at + this.getCurrentTime())\r\n\t\t\t\t\tform.append('listOfitemInvoices', this.created_at + this.listOfitemInvoices)\r\n\t\t\t\t\tconst response = await axios.post('lineInvoice/create', form)\r\n\t\t\t\t\tthis.lastIdLine = response.data \r\n\t\t\t\t\tthis.async_create_each_invoice()\r\n\t\t\t\t\talert(\"Facture enregistrée avec succès\")\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\talert(e)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Veuiller d'abord compléter tous les champs requis pour une facture\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync async_create_each_invoice() {\r\n\t\t\tconst formData = new FormData()\r\n\t\t\tformData.append(\"listOfitemInvoices\", JSON.stringify(this.listOfitemInvoices))\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('invoice/create', formData)\r\n\t\t\t\tthis.listOfitemInvoices = []\r\n\t\t\t\tthis.decrease = ''\r\n\t\t\t\tthis.client = ''\r\n\t\t\t\t//we update the list of inlines displayed !\r\n\t\t\t\tthis.resultInvoiceKey = !this.resultInvoiceKey\r\n\t\t\t\tconsole.log(\"Opération éffectuée avec succès ! \")\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetCurrentTime() {\r\n\t\t\tconst dateObj = new Date();\r\n\t\t\tconst currentDate = \":\" + dateObj.getHours() + ':' + dateObj.getMinutes() + ':' + dateObj.getSeconds();\r\n\t\t\treturn currentDate\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.get_stock_merchandise()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nthead {\r\n\tborder: 2px solid rgb(220, 217, 217);\r\n\tborder-collapse: collapse;\r\n}\r\n\r\ntbody {\r\n\tborder-right: 1px solid rgb(221, 204, 204);\r\n\tborder-left: 1px solid rgb(220, 217, 217);\r\n\tborder-bottom: 2px solid rgb(220, 217, 217);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./invoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./invoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./invoice.vue?vue&type=template&id=72be6e34&scoped=true&\"\nimport script from \"./invoice.vue?vue&type=script&lang=js&\"\nexport * from \"./invoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./invoice.vue?vue&type=style&index=0&id=72be6e34&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72be6e34\",\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","on","_vm","verifyAmount","_v","seek_amount_and_price_stock","model","callback","id_stock","expression","value","pu_sale","$$v","_c","amount_sale","staticClass","submitNewItemInvoice","indexEdit","key","editItemInvoice","client","created_at","decrease","stopPropagation","exportToPDF","resultInvoiceKey","render","staticRenderFns","scopedSlots","fn","item","$event","printLinePermit","staticStyle","_s","inlineInfo","printMethode","name","components","data","listInvoices","urlImage","listInlines","printinline","listInvoicesPrint","header_lineinvoices","text","align","sortable","methods","computeTotalPriceTopay","r","console","html2pdf","margin","filename","jsPDF","format","orientation","created","component","resultInvoice","printInvoice","editOradd","title","stock_merchandises","pu_by","amount_by","listOfitemInvoices","lastIdLine","invoicesRequests","desserts","calories","getNumberInvoices","getTotalPriceAmount","totalNetPrice","alert","verifyIfItemExistAlready","deleteItemInvoice","form","formData","getCurrentTime"],"sourceRoot":""}