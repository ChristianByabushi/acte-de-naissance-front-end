{"version":3,"file":"js/52.5ed93c02.js","mappings":"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","sources":["webpack://project-vue/./src/views/analysis/analysis.vue","webpack://project-vue/src/views/analysis/analysis.vue","webpack://project-vue/./src/views/analysis/analysis.vue?569e","webpack://project-vue/./src/views/analysis/analysis.vue?b9fd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-subheader',{staticClass:\"d-flex justify-space-between align-center\"},[_c('h3',[_vm._v(\"Analyses\")])]),_c('v-alert',{attrs:{\"dense\":\"\",\"type\":\"info\",\"color\":\"#757575\"}},[_vm._v(\" Cette partie contient les fonctionnalités sur l'analyse du déroulement des activités et des résulats sur les stocks et les vantes \")]),_c('v-card',[_c('v-card-title',{staticStyle:{\"display\":\"inline\"}},[_vm._v(\" Mouvement des stocks des biens \")]),_c('v-row',{staticClass:\"ml-5\"},[_c('v-col',{attrs:{\"cols\":\"5\",\"sm\":\"3\"}},[_c('v-select',{attrs:{\"items\":_vm.merchandises,\"item-text\":\"title\",\"item-value\":\"id\",\"label\":\"Item à considérer\"},on:{\"change\":function($event){return _vm.getAllInvoices()}},model:{value:(_vm.itemSelected),callback:function ($$v) {_vm.itemSelected=$$v},expression:\"itemSelected\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"Date à partir de laquelle commencer\"},on:{\"change\":function($event){return _vm.getAllInvoices()}},model:{value:(_vm.created_at),callback:function ($$v) {_vm.created_at=$$v},expression:\"created_at\"}})],1),_c('v-col',{staticClass:\"mt-3\",attrs:{\"cols\":\"6\",\"sm\":\"4\"},on:{\"click\":_vm.actualiser}},[_c('v-btn',{attrs:{\"append-icon\":\"\"}},[_c('v-icon',[_vm._v(\" mdi-refresh \")]),_vm._v(\"Actualiser \")],1)],1)],1),_c('div',{attrs:{\"id\":\"element-print-invoices\"}},[(_vm.printDisplay=true)?_c('v-card-title',[_c('v-row',[_c('v-col',[_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('h4',[_vm._v(\"Sté HumanATM\")]),_c('h6',{attrs:{\"id\":\"dateReport\"}},[_vm._v(\"Date : \"+_vm._s(_vm.created_at))])])])],1)],1):_vm._e(),_c('v-card-text',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.header_invoices,\"items\":_vm.list_invoices,\"items-per-page\":7}}),_c('v-card',{staticClass:\"mt-4\"},[_c('v-card-text',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',[_c('h5',{staticClass:\"font-weight-bold\"},[_vm._v(\"Calcul du résultat\")])]),_c('div',[_c('h6',{staticClass:\"font-weight-bold\"},[_vm._v(\"Prix total Achat : \"+_vm._s(_vm.resultatInvoices.price_by)+\" \")])]),_c('div',[_c('h6',{staticClass:\"font-weight-bold\"},[_vm._v(\"Prix total Vente : \"+_vm._s(_vm.resultatInvoices.price_sale)+\" \")])]),_c('div',[_c('h6',{staticClass:\"font-weight-bold\"},[_vm._v(\"Résultat : \"+_vm._s(_vm.resultatInvoices.result))])])])],1)],1)],1)],1),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"color\":\"error\"},on:{\"click\":function($event){_vm.printDisplay=true;_vm.printEtatInvoices()}}},[_c('v-icon',[_vm._v(\"mdi-printer\")]),_vm._v(\" Imprimer \")],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Analyses</h3>\r\n\t\t</v-subheader>\r\n\r\n\t\t<v-alert dense type=\"info\" color=\"#757575\">\r\n\t\t\tCette partie contient les fonctionnalités sur l'analyse du déroulement des activités et des résulats sur les\r\n\t\t\tstocks et les vantes\r\n\t\t</v-alert>\r\n\r\n\r\n\t\t<v-card>\r\n\t\t\t<v-card-title style=\"display : inline\">\r\n\t\t\t\tMouvement des stocks des biens\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-row class=\"ml-5\">\r\n\t\t\t\t<v-col cols=\"5\" sm=\"3\">\r\n\t\t\t\t\t<v-select :items=\"merchandises\" item-text=\"title\" @change=\"getAllInvoices()\" v-model=\"itemSelected\"\r\n\t\t\t\t\t\titem-value=\"id\" label=\"Item à considérer\">\r\n\t\t\t\t\t</v-select>\r\n\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"6\" sm=\"4\">\r\n\t\t\t\t\t<v-text-field v-model=\"created_at\" type=\"date\" @change=\"getAllInvoices()\"\r\n\t\t\t\t\t\tlabel=\"Date à partir de laquelle commencer\">\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col class=\"mt-3\" cols=\"6\" sm=\"4\" @click=\"actualiser\">\r\n\t\t\t\t\t<v-btn append-icon=\"\">\r\n\t\t\t\t\t\t<v-icon>\r\n\t\t\t\t\t\t\tmdi-refresh\r\n\t\t\t\t\t\t</v-icon>Actualiser\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-col>  \r\n\t\t\t</v-row>\r\n\r\n\t\t\t<div id=\"element-print-invoices\">\r\n\t\t\t\t<v-card-title v-if=\"printDisplay=true\">\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t<div style=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<h4>Sté HumanATM</h4>\r\n\t\t\t\t\t\t\t\t<h6 id=\"dateReport\">Date : {{created_at}}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-col> \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-card-title>\r\n\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<v-data-table :headers=\"header_invoices\" :items=\"list_invoices\" :items-per-page=\"7\"\r\n\t\t\t\t\t\tclass=\"elevation-1\">\r\n\t\t\t\t\t</v-data-table>\r\n\r\n\t\t\t\t\t<v-card class=\"mt-4\">\r\n\t\t\t\t\t\t<v-card-text style=\" display: inline-block;\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h5 class=\"font-weight-bold\">Calcul du résultat</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h6 class=\"font-weight-bold\">Prix total Achat : {{resultatInvoices.price_by}} </h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h6 class=\"font-weight-bold\">Prix total Vente : {{resultatInvoices.price_sale}} </h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h6 class=\"font-weight-bold\">Résultat : {{resultatInvoices.result}}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</div>\r\n\t\t</v-card>\r\n\t\t<v-btn class=\"mt-4\" color=\"error\" @click=\"printDisplay=true;printEtatInvoices() \">\r\n\t\t\t<v-icon>mdi-printer</v-icon> Imprimer\r\n\t\t</v-btn>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport html2pdf from \"html2pdf.js\";\r\nexport default {\r\n\tname: \"analysis\",\r\n\tdata: () => ({\r\n\t\theader_invoices: [\r\n\t\t\t{ text: 'Facture Idop', value: 'id_line' },\r\n\t\t\t{ text: 'Date de Vente', value: 'created_at' },\r\n\t\t\t{ text: 'Item', value: 'title' },\r\n\t\t\t{ text: 'PUA', value: 'pu_by' },\r\n\t\t\t{ text: 'PUV', value: 'pu_sale' },\r\n\t\t\t{ text: 'Qte Vendue', value: 'amount_sale' },\r\n\t\t\t{ text: 'Prix Achat Total', value: 'price_by' },\r\n\t\t\t{ text: 'Prix Vente Total', value: 'price_sale' },\r\n\t\t\t{ text: 'Résultat', value: 'result' },\r\n\t\t],\r\n\t\tlist_invoices: [],\r\n\t\tcreated_at: new Date().toJSON().slice(0, 10).replace(/-/g, '-'),\r\n\t\titemSelected: '',\r\n\t\tmerchandises: [],\r\n\t\tresultatInvoices: [],\r\n\t\tprintDisplay: false\r\n\t}),\r\n\tmethods: {\r\n\t\tasync printEtatInvoices() {\r\n\t\t\thtml2pdf(document.getElementById(\"element-print-invoices\"), {\r\n\t\t\t\tmargin: 2,\r\n\t\t\t\tfilename: \"Rapport stock du\" + this.created_at,\r\n\t\t\t\tjsPDF: {\r\n\t\t\t\t\tformat: 'a4',\r\n\t\t\t\t\torientation: 'portrait'\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tthis.printDisplay = false\r\n\t\t},\r\n\t\tasync getAllInvoices() {\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append(\"created_at\", this.created_at)\r\n\t\t\t\tformData.append(\"itemSelected\", this.itemSelected)\r\n\t\t\t\tconst response = await axios.post('lineInvoice/getResultInvoices', formData)\r\n\t\t\t\tthis.list_invoices = response.data[0]\r\n\t\t\t\tthis.resultatInvoices = response.data[1]\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('merchandise/')\r\n\t\t\t\tthis.merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tactualiser() {\r\n\t\t\tthis.created_at = new Date().toJSON().slice(0, 10).replace(/-/g, '-')\r\n\t\t\tthis.itemSelected = ''\r\n\t\t\tthis.resultatInvoices\r\n\t\t\tthis.getAllInvoices()\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getAllInvoices()\r\n\t\tthis.get_stock_merchandise()\r\n\t}\r\n\r\n}\r\n</script> \r\n<style scoped>\r\n#element-print-invoices {\r\n\tbackground-image: url('@/assets/atmlogo.jpg'); \r\n\tbackground-size: 200px 90px; \t\r\n}\r\n#dateReport{\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./analysis.vue?vue&type=template&id=3a0134f2&scoped=true&\"\nimport script from \"./analysis.vue?vue&type=script&lang=js&\"\nexport * from \"./analysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./analysis.vue?vue&type=style&index=0&id=3a0134f2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a0134f2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["staticStyle","staticClass","attrs","_c","on","value","itemSelected","callback","expression","model","_vm","created_at","printDisplay","_v","printEtatInvoices","staticRenderFns","name","data","header_invoices","text","list_invoices","merchandises","resultatInvoices","methods","html2pdf","margin","filename","jsPDF","format","orientation","formData","console","alert","actualiser","created","component","render"],"sourceRoot":""}